<div class="card card-custom gutter-b bg-transparent">
  <div class="card-body">
    <div class="form">
      <div class="row">
        <div class="col-xl-3 col-sm-12">
          <div class="input-group mb-3 ">
            <span class="input-group-text" id="inputGroup-sizing-default">Search</span>
            <input type="text" class="form-control" aria-label="Sizing example input"
              aria-describedby="inputGroup-sizing-default" placeholder="Name/phone number/email" [(ngModel)]="request">
          </div>
        </div><div class="col-xl-3 col-sm-12">
          <div class="input-group mb-3 ">
            <span class="input-group-text" id="inputGroup-sizing-default">ClassCustomer</span>
              <select class="form-select" aria-label="Default select example" [(ngModel)]="cusClass">
                <option value="">All</option>
                <option value="VIP">VIP</option>
                <option value="Normal">Normal</option>
              </select>
          </div>
        </div>
        <div class="col-xl-3 col-sm-12 ">
          <div class="input-group mb-3 ">
            <span class="input-group-text" id="inputGroup-sizing-default">FromAge</span>
            <input type="number" [min]="0" class="form-control" aria-label="Sizing example input"
              aria-describedby="inputGroup-sizing-default" [(ngModel)]="fromAge">
          </div>
        </div>
        <div class="col-xl-3 col-sm-12 ">
          <div class="input-group mb-3 ">
            <span class="input-group-text" id="inputGroup-sizing-default">ToAge</span>
            <input type="number" [min]="0" class="form-control" aria-label="Sizing example input"
              aria-describedby="inputGroup-sizing-default" [(ngModel)]="toAge">
          </div>
        </div>
      </div>
      <div class="row float-sm-end" >
        <div class="col-xl-12 col-sm-12" >
          <button type="button" class="btn btn-primary" style="margin-right: 640px;width: 250px;"
          (click)="search()">Search</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="card card-custom gutter-b mt-1 ">
  <div class="card-body">
    <div class="row float-sm-end">
      <div class="col-xl-12 col-sm-12 mb-2" >
        <button type="button" style="width: 150px;"
            class="btn btn-outline-primary"  
            data-bs-toggle="modal" 
            data-bs-target="#staticBackdrop" (click)="createOrEditCus()">Add</button>
      </div>
    </div>
    
    <table class="table table-striped table-hover table-responsive">
      <thead class="table-primary">
        <tr>
          <td scope="col">No.</td>
          <td scope="col">Name</td>
          <td scope="col">Age</td>
          <td scope="col">PhoneNumber</td>
          <td scope="col">Email</td>
          <td scope="col">Address</td>
          <td scope="col">DayOfBirth</td>
          <td scope="col">ClassCustomer</td>
          <td scope="col">Image</td>
          <td scope="col">Option</td>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of listCustomer; let i = index" class="justify-content-center align-items-center">
          <td scope="row">{{i + 1}}</td>
          <td>{{item.name}}</td>
          <td>{{item.age}}</td>
          <td>{{item.phoneNumber}}</td>
          <td>{{item.email}}</td>
          <td>{{item.address}}</td>
          <td>{{item.dayOfBirth | date: 'dd/MM/yyyy' }}</td>
          <td>{{item.classCustomer}}</td>
          <th>
            <img src ="{{item.imageBase64 || '../assets/user.png'}}" class="img-thumbnail" style="width: 4rem;" alt="">
          </th>
          <th>
            <button type="button" class="btn btn-outline-primary me-1" data-bs-toggle="modal" data-bs-target="#staticBackdrop" (click)="createOrEditCus(item)">Edit</button>
            <button type="button" class="btn btn-outline-danger me-1" (click)="deleteCusI4(item.id)">Delete</button>
            <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#detailsCusI4" (click)="showModalDetails(item.id)">Details</button>
          </th>
        </tr>
      </tbody>
    </table>
  </div>
</div>


<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">{{titleModal}}</h1>
        <button type="button"  class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="closeModalCreateOrEdit()"></button>
      </div>
      <div class="modal-body">
        <app-create-or-edit-customers [dataDetail]="dataDetail" *ngIf="isCreateOrEdit"></app-create-or-edit-customers>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="detailsCusI4" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" >
  <div class="modal-dialog">
    <div class="modal-content" style="width: 1435px; margin-left: -464px;">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="detailsCusI4">Customer Details</h1>
        <button type="button"  class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="closeModalDetails()"></button>
      </div>
      <div class="modal-body">
        <app-customer-details [idCus]="cusId"  *ngIf="isDetails"></app-customer-details>
      </div>
    </div>
  </div>
</div>